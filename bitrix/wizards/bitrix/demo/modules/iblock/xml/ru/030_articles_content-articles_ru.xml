<?xml version="1.0" encoding="windows-1251"?>
<КоммерческаяИнформация ВерсияСхемы="2.021" ДатаФормирования="2008-04-09T11:44:33">
	<Классификатор>
		<Ид>content-articles</Ид>
		<Наименование>Статьи</Наименование>
		<Описание>Статьи</Описание>
		<Свойства>
			<Свойство>
				<Ид>CML2_CODE</Ид>
				<Наименование>Символьный код</Наименование>
				<Множественное>false</Множественное>
			</Свойство>
			<Свойство>
				<Ид>CML2_SORT</Ид>
				<Наименование>Сортировка</Наименование>
				<Множественное>false</Множественное>
			</Свойство>
			<Свойство>
				<Ид>CML2_ACTIVE_FROM</Ид>
				<Наименование>Начало активности</Наименование>
				<Множественное>false</Множественное>
			</Свойство>
			<Свойство>
				<Ид>CML2_ACTIVE_TO</Ид>
				<Наименование>Окончание активности</Наименование>
				<Множественное>false</Множественное>
			</Свойство>
			<Свойство>
				<Ид>CML2_PREVIEW_TEXT</Ид>
				<Наименование>Анонс</Наименование>
				<Множественное>false</Множественное>
			</Свойство>
			<Свойство>
				<Ид>CML2_PREVIEW_PICTURE</Ид>
				<Наименование>Картинка анонса</Наименование>
				<Множественное>false</Множественное>
			</Свойство>
			<Свойство>
				<Ид>102</Ид>
				<Наименование>Ключевые слова</Наименование>
				<Множественное>false</Множественное>
				<БитриксСортировка>100</БитриксСортировка>
				<БитриксКод>KEYWORDS</БитриксКод>
				<БитриксЗначениеПоУмолчанию></БитриксЗначениеПоУмолчанию>
				<БитриксТипСвойства>S</БитриксТипСвойства>
				<БитриксСтрок>1</БитриксСтрок>
				<БитриксКолонок>30</БитриксКолонок>
				<БитриксТипСписка>L</БитриксТипСписка>
				<БитриксТипыФайлов>jpg, gif, bmp, png, jpeg</БитриксТипыФайлов>
				<БитриксКоличествоПолей>5</БитриксКоличествоПолей>
				<БитриксСвязанныйИнфоблок></БитриксСвязанныйИнфоблок>
				<БитриксОписаниеРазрешено>false</БитриксОписаниеРазрешено>
				<БитриксПоискРазрешен>false</БитриксПоискРазрешен>
				<БитриксФильтрРазрешен>false</БитриксФильтрРазрешен>
				<БитриксРасширениеТипа></БитриксРасширениеТипа>
			</Свойство>
			<Свойство>
				<Ид>101</Ид>
				<Наименование>Автор</Наименование>
				<Множественное>false</Множественное>
				<БитриксСортировка>200</БитриксСортировка>
				<БитриксКод>AUTHOR</БитриксКод>
				<БитриксЗначениеПоУмолчанию></БитриксЗначениеПоУмолчанию>
				<БитриксТипСвойства>S</БитриксТипСвойства>
				<БитриксСтрок>1</БитриксСтрок>
				<БитриксКолонок>30</БитриксКолонок>
				<БитриксТипСписка>L</БитриксТипСписка>
				<БитриксТипыФайлов>jpg, gif, bmp, png, jpeg</БитриксТипыФайлов>
				<БитриксКоличествоПолей>5</БитриксКоличествоПолей>
				<БитриксСвязанныйИнфоблок></БитриксСвязанныйИнфоблок>
				<БитриксОписаниеРазрешено>false</БитриксОписаниеРазрешено>
				<БитриксПоискРазрешен>false</БитриксПоискРазрешен>
				<БитриксФильтрРазрешен>false</БитриксФильтрРазрешен>
				<БитриксРасширениеТипа></БитриксРасширениеТипа>
			</Свойство>
			<Свойство>
				<Ид>127</Ид>
				<Наименование>Идентификатор темы форума</Наименование>
				<Множественное>false</Множественное>
				<БитриксСортировка>300</БитриксСортировка>
				<БитриксКод>FORUM_TOPIC_ID</БитриксКод>
				<БитриксЗначениеПоУмолчанию></БитриксЗначениеПоУмолчанию>
				<БитриксТипСвойства>N</БитриксТипСвойства>
				<БитриксСтрок>1</БитриксСтрок>
				<БитриксКолонок>30</БитриксКолонок>
				<БитриксТипСписка>L</БитриксТипСписка>
				<БитриксТипыФайлов></БитриксТипыФайлов>
				<БитриксКоличествоПолей>0</БитриксКоличествоПолей>
				<БитриксСвязанныйИнфоблок></БитриксСвязанныйИнфоблок>
				<БитриксОписаниеРазрешено>false</БитриксОписаниеРазрешено>
				<БитриксПоискРазрешен>false</БитриксПоискРазрешен>
				<БитриксФильтрРазрешен>false</БитриксФильтрРазрешен>
				<БитриксРасширениеТипа></БитриксРасширениеТипа>
			</Свойство>
			<Свойство>
				<Ид>128</Ид>
				<Наименование>Количество комментариев</Наименование>
				<Множественное>false</Множественное>
				<БитриксСортировка>400</БитриксСортировка>
				<БитриксКод>FORUM_MESSAGE_CNT</БитриксКод>
				<БитриксЗначениеПоУмолчанию></БитриксЗначениеПоУмолчанию>
				<БитриксТипСвойства>N</БитриксТипСвойства>
				<БитриксСтрок>1</БитриксСтрок>
				<БитриксКолонок>30</БитриксКолонок>
				<БитриксТипСписка>L</БитриксТипСписка>
				<БитриксТипыФайлов></БитриксТипыФайлов>
				<БитриксКоличествоПолей>0</БитриксКоличествоПолей>
				<БитриксСвязанныйИнфоблок></БитриксСвязанныйИнфоблок>
				<БитриксОписаниеРазрешено>false</БитриксОписаниеРазрешено>
				<БитриксПоискРазрешен>false</БитриксПоискРазрешен>
				<БитриксФильтрРазрешен>false</БитриксФильтрРазрешен>
				<БитриксРасширениеТипа></БитриксРасширениеТипа>
			</Свойство>
			<Свойство>
				<Ид>129</Ид>
				<Наименование>Количество голосов</Наименование>
				<Множественное>false</Множественное>
				<БитриксСортировка>500</БитриксСортировка>
				<БитриксКод>vote_count</БитриксКод>
				<БитриксЗначениеПоУмолчанию></БитриксЗначениеПоУмолчанию>
				<БитриксТипСвойства>N</БитриксТипСвойства>
				<БитриксСтрок>1</БитриксСтрок>
				<БитриксКолонок>30</БитриксКолонок>
				<БитриксТипСписка>L</БитриксТипСписка>
				<БитриксТипыФайлов></БитриксТипыФайлов>
				<БитриксКоличествоПолей>0</БитриксКоличествоПолей>
				<БитриксСвязанныйИнфоблок></БитриксСвязанныйИнфоблок>
				<БитриксОписаниеРазрешено>false</БитриксОписаниеРазрешено>
				<БитриксПоискРазрешен>false</БитриксПоискРазрешен>
				<БитриксФильтрРазрешен>false</БитриксФильтрРазрешен>
				<БитриксРасширениеТипа></БитриксРасширениеТипа>
			</Свойство>
			<Свойство>
				<Ид>130</Ид>
				<Наименование>Сумма голосов</Наименование>
				<Множественное>false</Множественное>
				<БитриксСортировка>600</БитриксСортировка>
				<БитриксКод>vote_sum</БитриксКод>
				<БитриксЗначениеПоУмолчанию></БитриксЗначениеПоУмолчанию>
				<БитриксТипСвойства>N</БитриксТипСвойства>
				<БитриксСтрок>1</БитриксСтрок>
				<БитриксКолонок>30</БитриксКолонок>
				<БитриксТипСписка>L</БитриксТипСписка>
				<БитриксТипыФайлов></БитриксТипыФайлов>
				<БитриксКоличествоПолей>0</БитриксКоличествоПолей>
				<БитриксСвязанныйИнфоблок></БитриксСвязанныйИнфоблок>
				<БитриксОписаниеРазрешено>false</БитриксОписаниеРазрешено>
				<БитриксПоискРазрешен>false</БитриксПоискРазрешен>
				<БитриксФильтрРазрешен>false</БитриксФильтрРазрешен>
				<БитриксРасширениеТипа></БитриксРасширениеТипа>
			</Свойство>
			<Свойство>
				<Ид>131</Ид>
				<Наименование>Рейтинг</Наименование>
				<Множественное>false</Множественное>
				<БитриксСортировка>700</БитриксСортировка>
				<БитриксКод>rating</БитриксКод>
				<БитриксЗначениеПоУмолчанию></БитриксЗначениеПоУмолчанию>
				<БитриксТипСвойства>N</БитриксТипСвойства>
				<БитриксСтрок>1</БитриксСтрок>
				<БитриксКолонок>30</БитриксКолонок>
				<БитриксТипСписка>L</БитриксТипСписка>
				<БитриксТипыФайлов></БитриксТипыФайлов>
				<БитриксКоличествоПолей>0</БитриксКоличествоПолей>
				<БитриксСвязанныйИнфоблок></БитриксСвязанныйИнфоблок>
				<БитриксОписаниеРазрешено>false</БитриксОписаниеРазрешено>
				<БитриксПоискРазрешен>false</БитриксПоискРазрешен>
				<БитриксФильтрРазрешен>false</БитриксФильтрРазрешен>
				<БитриксРасширениеТипа></БитриксРасширениеТипа>
			</Свойство>
			<Свойство>
				<Ид>138</Ид>
				<Наименование>Темы</Наименование>
				<Множественное>true</Множественное>
				<БитриксСортировка>800</БитриксСортировка>
				<БитриксКод>THEMES</БитриксКод>
				<БитриксЗначениеПоУмолчанию></БитриксЗначениеПоУмолчанию>
				<БитриксТипСвойства>G</БитриксТипСвойства>
				<БитриксСтрок>1</БитриксСтрок>
				<БитриксКолонок>30</БитриксКолонок>
				<БитриксТипСписка>L</БитриксТипСписка>
				<БитриксТипыФайлов></БитриксТипыФайлов>
				<БитриксКоличествоПолей>5</БитриксКоличествоПолей>
				<БитриксСвязанныйИнфоблок>services-themes</БитриксСвязанныйИнфоблок>
				<БитриксОписаниеРазрешено>false</БитриксОписаниеРазрешено>
				<БитриксПоискРазрешен>false</БитриксПоискРазрешен>
				<БитриксФильтрРазрешен>true</БитриксФильтрРазрешен>
				<БитриксРасширениеТипа></БитриксРасширениеТипа>
			</Свойство>
			<Свойство>
				<Ид>content-articles-property-browser_title</Ид>
				<Наименование>Заголовок окна браузера</Наименование>
				<Множественное>false</Множественное>
				<БитриксСортировка>1000</БитриксСортировка>
				<БитриксКод>BROWSER_TITLE</БитриксКод>
				<БитриксЗначениеПоУмолчанию></БитриксЗначениеПоУмолчанию>
				<БитриксТипСвойства>S</БитриксТипСвойства>
				<БитриксСтрок>1</БитриксСтрок>
				<БитриксКолонок>30</БитриксКолонок>
				<БитриксТипСписка>L</БитриксТипСписка>
				<БитриксТипыФайлов></БитриксТипыФайлов>
				<БитриксКоличествоПолей>1</БитриксКоличествоПолей>
				<БитриксСвязанныйИнфоблок></БитриксСвязанныйИнфоблок>
				<БитриксОписаниеРазрешено>false</БитриксОписаниеРазрешено>
				<БитриксПоискРазрешен>true</БитриксПоискРазрешен>
				<БитриксФильтрРазрешен>true</БитриксФильтрРазрешен>
				<БитриксРасширениеТипа></БитриксРасширениеТипа>
			</Свойство>
		</Свойства>
	</Классификатор>
	<Каталог>
		<Ид>content-articles</Ид>
		<ИдКлассификатора>content-articles</ИдКлассификатора>
		<Наименование>Статьи</Наименование>
		<Описание>Статьи</Описание>
		<БитриксКод>articles</БитриксКод>
		<БитриксСортировка>200</БитриксСортировка>
		<БитриксURLСписок>/content/articles/</БитриксURLСписок>
		<БитриксURLДеталь>/content/articles/#ELEMENT_ID#/</БитриксURLДеталь>
		<БитриксURLРаздел></БитриксURLРаздел>
		<БитриксКартинка></БитриксКартинка>
		<БитриксИндексироватьЭлементы>true</БитриксИндексироватьЭлементы>
		<БитриксИндексироватьРазделы>true</БитриксИндексироватьРазделы>
		<БитриксДокументооборот>true</БитриксДокументооборот>
		<БитриксПодписи>
			<БитриксПодпись>
				<Ид>ELEMENT_NAME</Ид>
				<Значение>Статья</Значение>
			</БитриксПодпись>
			<БитриксПодпись>
				<Ид>ELEMENTS_NAME</Ид>
				<Значение>Статьи</Значение>
			</БитриксПодпись>
			<БитриксПодпись>
				<Ид>ELEMENT_ADD</Ид>
				<Значение>Добавить статью</Значение>
			</БитриксПодпись>
			<БитриксПодпись>
				<Ид>ELEMENT_EDIT</Ид>
				<Значение>Изменить статью</Значение>
			</БитриксПодпись>
			<БитриксПодпись>
				<Ид>ELEMENT_DELETE</Ид>
				<Значение>Удалить статью</Значение>
			</БитриксПодпись>
			<БитриксПодпись>
				<Ид>SECTION_NAME</Ид>
				<Значение>Раздел статей</Значение>
			</БитриксПодпись>
			<БитриксПодпись>
				<Ид>SECTIONS_NAME</Ид>
				<Значение>Разделы статей</Значение>
			</БитриксПодпись>
			<БитриксПодпись>
				<Ид>SECTION_ADD</Ид>
				<Значение>Добавить раздел</Значение>
			</БитриксПодпись>
			<БитриксПодпись>
				<Ид>SECTION_EDIT</Ид>
				<Значение>Изменить раздел</Значение>
			</БитриксПодпись>
			<БитриксПодпись>
				<Ид>SECTION_DELETE</Ид>
				<Значение>Удалить раздел</Значение>
			</БитриксПодпись>
		</БитриксПодписи>
		<Товары>
			<Товар>
				<Ид>1051</Ид>
				<Наименование>Комплексные компоненты</Наименование>
				<БитриксТеги>компонент, компоненты 2.0, MVC</БитриксТеги>
				<Описание>&lt;b&gt;Определение&lt;/b&gt;
&lt;br /&gt;

&lt;br /&gt;
Обычные (простые, одностраничные) компоненты создают какую-либо область на одной конкретной странице. Например, компонент показа новости по ее коду создает на одной конкретной странице (той, где он размещен) область, в которой показывает заголовок, текст и прочие параметры новости.
&lt;br /&gt;

&lt;br /&gt;
Комплексные (сложные, многостраничные) компоненты - это компоненты, которые создают разделы сайта. Например, компонент каталога создает на сайте весь раздел каталога: и список каталогов, и список групп, и страницы товаров. То есть комплексный компонент состоит из набора страниц. Комплексные компоненты строятся на основе обычных компонентов.
&lt;br /&gt;

&lt;br /&gt;
&lt;b&gt;MVC&lt;/b&gt;
&lt;br /&gt;

&lt;br /&gt;
Комплексные компоненты построены на паттерне проектирования MVC (Model View Controller), в котором модель данных приложения, пользовательский интерфейс и управляющая логика разделены на три отдельных части, так, что модификация одной из частей оказывает минимальное воздействие на другие части.
&lt;br /&gt;

&lt;br /&gt;
Model (модель) в данном случае - это ядро системы. Model представляет собой данные и бизнес-логику, отвечает на запросы View. View (представление) - это простые компоненты (на самом деле все чуть сложнее, но для начала можно понимать именно так). View представляет вывод данных пользователю, запрашивает данные у Model, посылает действия пользователя в Controller (как правило через HTTP запрос). Controller (контроллер) - это комплексный компонент. Controller на основании действий пользователя и ответа Model выбирает соответствующий View.
&lt;br /&gt;

&lt;br /&gt;
Алгоритм работы паттерна MVC примерно таков: на основании действий пользователя Controller (контроллер) определяет, какое View (представление) должно быть показано пользователю, и отдает управление этому View (представлению); View (представление) запрашивает необходимые ему данные у Model (модели), получает эти данные и выводит их соответствующим образом пользователю; пользователь с помощью каких-либо элементов управления, которые ему предоставил View (представление), посылает новый запрос в Controller (контроллер).
&lt;br /&gt;

&lt;br /&gt;
Алгоритм работы паттерна MVC в применении к комплексным компонентам таков: на основании действий пользователя (как правило HTTP запрос) комплексный компонент (controller) определяет, какая страница (view) должна быть показана пользователю, и подключает свой шаблон компонента для этой страницы; шаблон страницы (view) подключает обычные компоненты, настраивая необходимым образом их свойства; обычные компоненты выполняют свою работу: запрашивают данные у ядра (model), форматируют их и выводят посетителю, а так же предоставляют пользователю различные элементы управления (ссылки, формы, кнопки и т.п.); пользователь с помощью каких-либо элементов управления, посылает новый запрос (как правило HTTP запрос) комплексному компоненту (controller).
&lt;br /&gt;
&lt;BREAK /&gt;
&lt;br /&gt;
&lt;b&gt;Пример&lt;/b&gt;
&lt;br /&gt;

&lt;br /&gt;
Расмотрим упрощенный пример работы комплексного компонента новостей. Пусть у нас есть обычные компоненты список новостей и детальной новости (последний принимает во входных параметрах код новости, которую нужно показать).
&lt;br /&gt;

&lt;br /&gt;
Раздел новостей можно организовать, например, разместив на странице index.php компонент списка новостей, а на странице news.php - компонент детальной новости. При этом у компонента списка новостей нужно настроить входные параметры так, чтобы он мог формировать ссылки на страницу детальной новости (с кодом новости), а у компонента детальной новости нужно настроить входные параметры так, чтобы он мог формировать ссылку на страницу списка новостей. Для того, чтобы задать ссылку на страницу детальной новости, нужно задать путь к этой странице, а так же название параметра, в котором будет передаваться код новости для показа. То же название параметра нужно задать и во входных параметрах компонента детальной новости, чтобы он знал, где брать код новости для показа. Даже в данном максимально упрощенном случае настройки не так просты. А если это набор из десятков компонентов форума?
&lt;br /&gt;

&lt;br /&gt;
Более удобной альтернативой для сборщика сайта будет использование комплексного компонента новостей. Этот компонент, например, можно просто установить на страницу index.php и все. Согласованием ссылок и параметров будет заниматься сам комплексный компонент. От сборщика сайта никаких дополнительных действий не потребуется. Для создания комплексного компонента новостей нам необходимо создать новый компонент, в коде которого проверить, пришел ли в параметрах код новости. Если код новости пришел, то нужно подключить страницу шаблона комплексного компонента, которая предназначена для показа детальной новости, а если не пришел - страницу для показа списка новостей. Страницы шаблона комплексного компонента будут содержать подключение соответствующих обычных компонентов с правильной настройкой их входных параметров. Обычные компоненты будут выполнять свою обычную работу. Им все равно, кто их вызвал и зачем. Для обычных компонентов важна только правильная настройка их входных параметров.
&lt;br /&gt;

&lt;br /&gt;
Таким образом реализуется паттерн MVC: на комплексный компонент новостей (controller) приходит HTTP запрос (действия пользователя); комплексный компонент новостей (controller) проверяет, установлен ли через HTTP запрос код новости и подключает из своего шаблона страницу списка новостей или страницу детальной новости (view); подключенная страница в свою очередь подключает соответствующий обычный компонент, устанавливая при этом его входные параметры соответствующим образом; обычный компонент выполняет свою работу: запрашивает данные у ядра (model), форматирует их и выводит посетителю, а так же предоставляет пользователю различные элементы управления (ссылки, формы, кнопки и т.п.); пользователь с помощью каких-либо элементов управления, посылает новый HTTP запрос на комплексный компонент новостей (controller); и далее по кругу.</Описание>
				<ЗначенияСвойств>
					<ЗначенияСвойства>
						<Ид>CML2_CODE</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_SORT</Ид>
						<Значение>500</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_ACTIVE_FROM</Ид><Значение>2009-10-01 00:00:00</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_ACTIVE_TO</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_PREVIEW_TEXT</Ид>
						<Значение>Описание новой технологии в &amp;quot;Битрикс: Управление сайтом 6.0&amp;quot;
</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_PREVIEW_PICTURE</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>101</Ид>
						<Значение>Алексей Кирсанов</Значение>
						<ЗначениеСвойства>
							<Значение>Алексей Кирсанов</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>102</Ид>
						<Значение>компонент, компоненты 2.0, MVC</Значение>
						<ЗначениеСвойства>
							<Значение>компонент, компоненты 2.0, MVC</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>127</Ид>
						<Значение>76</Значение>
						<ЗначениеСвойства>
							<Значение>76</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>128</Ид>
						<Значение>1</Значение>
						<ЗначениеСвойства>
							<Значение>1</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>129</Ид>
						<Значение>1</Значение>
						<ЗначениеСвойства>
							<Значение>1</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>130</Ид>
						<Значение>5</Значение>
						<ЗначениеСвойства>
							<Значение>5</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>131</Ид>
						<Значение>3.3</Значение>
						<ЗначениеСвойства>
							<Значение>3.3</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>138</Ид>
						<Значение>226</Значение>
						<ЗначениеСвойства>
							<Значение>226</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
				</ЗначенияСвойств>
			</Товар>
			<Товар>
				<Ид>1341</Ид>
				<Наименование>Пользовательские движки шаблонизации</Наименование>
				<БитриксТеги>движки</БитриксТеги>
				<Описание>&lt;p&gt;Для добавления нового движка шаблонизации на сайт в файл &lt;i&gt;/bitrix/php_interface/init.php&lt;/i&gt; необходимо добавить следующее:&lt;/p&gt;

&lt;p&gt;1. Глобальную переменную&lt;i&gt; $arCustomTemplateEngines&lt;/i&gt;, которая содержит ассоциативный массив, каждый элемент которого имеет вид:
  &lt;br /&gt;
 &lt;i&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;код_шаблонизатора&amp;quot; =&amp;gt; array(
    &lt;br /&gt;
   &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;templateExt&amp;quot; =&amp;gt; array(&amp;quot;расширение1&amp;quot;[, &amp;quot;расширение2&amp;quot;...]),
    &lt;br /&gt;
   &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;function&amp;quot; =&amp;gt; &amp;quot;имя_функции_подключения_движка&amp;quot;
    &lt;br /&gt;
   &amp;nbsp;&amp;nbsp;&amp;nbsp;)&lt;/i&gt;
  &lt;br /&gt;
 где:
  &lt;br /&gt;
 &lt;i&gt;&amp;quot;код_шаблонизатора&amp;quot;&lt;/i&gt; - произвольное уникальное в рамках сайта слово;
  &lt;br /&gt;
 &lt;i&gt;&amp;quot;расширениеN&amp;quot;&lt;/i&gt; - расширение файла, который должен обрабатываться этим движком шаблонизации;
  &lt;br /&gt;
 &lt;i&gt;&amp;quot;имя_функции_подключения_движка&amp;quot;&lt;/i&gt; - имя функции, которая будет вызываться, если шаблон компонента имеет указанное расширение.
  &lt;br /&gt;
 &lt;/p&gt;

&lt;p&gt;2. Функцию подключения движков:
  &lt;br /&gt;
 &lt;i&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function имя_функции_подключения_движка($templateFile, $arResult, $arParams, $arLangMessages, $templateFolder, $parentTemplateFolder, $template)&lt;/i&gt;&lt;i&gt;,&lt;/i&gt;
  &lt;br /&gt;
 где:
  &lt;br /&gt;
 &lt;span&gt;&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $templateFile &amp;ndash; &lt;/em&gt;путь к файлу шаблона относительно корня сайта&lt;em&gt;,
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $arResult &amp;ndash;&lt;/em&gt; массив результатов работы компонента,
    &lt;br /&gt;
   &lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $arParams &amp;ndash;&lt;/em&gt; массив входных параметров компонента,
    &lt;br /&gt;
   &lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $arLangMessages &amp;ndash;&lt;/em&gt; массив языковых сообщений (переводов) шаблона,
    &lt;br /&gt;
   &lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $templateFolder &amp;ndash;&lt;/em&gt; путь к папке шаблона относительно корня сайта (если шаблон лежит не в
    &lt;br /&gt;
   папке, то эта переменная пуста),
    &lt;br /&gt;
   &lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $parentTemplateFolder -&lt;/em&gt; путь относительно корня сайта к папке шаблона комплексного
    &lt;br /&gt;
   компонента, в составе которого подключается данный компонент (если компонент
    &lt;br /&gt;
   подключается самостоятельно, то эта переменная пуста),
    &lt;br /&gt;
   &lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; $template &amp;ndash;&lt;/em&gt; объект шаблона.
    &lt;br /&gt;

    &lt;br /&gt;
   Рассмотрим подключение движков на конкретных примерах.&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p align=&quot;left&quot;&gt;&lt;BREAK /&gt;&lt;/p&gt;

&lt;p align=&quot;left&quot;&gt;&lt;strong&gt;Пример подключения движка Smarty:
    &lt;br /&gt;

    &lt;br /&gt;
   &lt;/strong&gt;&lt;/p&gt;

&lt;p align=&quot;left&quot;&gt;В массиве &lt;i&gt;$arCustomTemplateEngines&lt;/i&gt; регистрируется движок Smarty&lt;span&gt;:&lt;/span&gt;&lt;i&gt;
    &lt;p&gt;&lt;i&gt;global&lt;/i&gt;&lt;i&gt; $&lt;/i&gt;&lt;i&gt;arCustomTemplateEngines&lt;/i&gt;&lt;i&gt;;
        &lt;br /&gt;
       $&lt;/i&gt;&lt;i&gt;arCustomTemplateEngines&lt;/i&gt;&lt;i&gt; = &lt;/i&gt;&lt;i&gt;array&lt;/i&gt;&lt;i&gt;(
        &lt;br /&gt;
       &lt;/i&gt;&lt;i&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/i&gt;&lt;i&gt;&amp;quot;&lt;/i&gt;&lt;i&gt;smarty&lt;/i&gt;&lt;i&gt;&amp;quot; =&amp;gt; &lt;/i&gt;&lt;i&gt;array&lt;/i&gt;&lt;i&gt;(
        &lt;br /&gt;
       &lt;/i&gt;&lt;i&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/i&gt;&lt;i&gt;&amp;quot;&lt;/i&gt;&lt;i&gt;templateExt&lt;/i&gt;&lt;i&gt;&amp;quot; =&amp;gt; &lt;/i&gt;&lt;i&gt;array&lt;/i&gt;&lt;i&gt;(&amp;quot;&lt;/i&gt;&lt;i&gt;tpl&lt;/i&gt;&lt;i&gt;&amp;quot;),
        &lt;br /&gt;
       &lt;/i&gt;&lt;i&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/i&gt;&lt;i&gt;&amp;quot;&lt;/i&gt;&lt;i&gt;function&lt;/i&gt;&lt;i&gt;&amp;quot; =&amp;gt; &amp;quot;&lt;/i&gt;&lt;i&gt;SmartyEngine&lt;/i&gt;&lt;i&gt;&amp;quot;
        &lt;br /&gt;
       &lt;/i&gt;&lt;i&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/i&gt;&lt;i&gt;),
        &lt;br /&gt;
       );
        &lt;br /&gt;

        &lt;br /&gt;
       &lt;/i&gt;&lt;/p&gt;
   &lt;/i&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p align=&quot;left&quot;&gt;В функции &lt;i&gt;SmartyEngine&lt;/i&gt; инициализируются параметры движка в соответствии с требованиями Smarty (см. систему помощи Smarty). Далее в Smarty передаются переменные результатов работы компонента, входных параметров, языковых сообщений и т.д., а в конце вызывается метод обработки и показа шаблона Smarty:
  &lt;br /&gt;
 &lt;i&gt;
    &lt;br /&gt;
   &lt;/i&gt;&lt;i&gt;function SmartyEngine($templateFile, $arResult, $arParams, $arLangMessages, $templateFolder, $parentTemplateFolder, $template)
    &lt;br /&gt;
   {
    &lt;br /&gt;
   &amp;nbsp;&amp;nbsp;&amp;nbsp;if (!defined(&amp;quot;SMARTY_DIR&amp;quot;))
    &lt;br /&gt;
   &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;define(&amp;quot;SMARTY_DIR&amp;quot;, &amp;quot;&amp;lt;&lt;/i&gt;&lt;i&gt;абсолютный&lt;/i&gt;&lt;i&gt;путь&lt;/i&gt;&lt;i&gt;к&lt;/i&gt;&lt;i&gt;движку&lt;/i&gt;&lt;i&gt; &lt;span&gt;Smarty&amp;gt;/libs/&amp;quot;);
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;require_once( '&amp;lt;&lt;/span&gt;&lt;/i&gt;&lt;i&gt;абсолютный&lt;/i&gt;&lt;i&gt;путь&lt;/i&gt;&lt;i&gt;к&lt;/i&gt;&lt;i&gt;движку&lt;/i&gt;&lt;i&gt; &lt;span&gt;Smarty&amp;gt;/libs/Smarty.class.php' );
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty = new Smarty;
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;compile_dir = &amp;quot;&amp;lt;&lt;/span&gt;&lt;/i&gt;&lt;i&gt;абсолютный&lt;/i&gt;&lt;i&gt;путь&lt;/i&gt;&lt;i&gt;к&lt;/i&gt;&lt;i&gt;движку&lt;/i&gt;&lt;i&gt; &lt;span&gt;Smarty&amp;gt;/templates_c/&amp;quot;;
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;config_dir = &amp;quot;&amp;lt;&lt;/span&gt;&lt;/i&gt;&lt;i&gt;абсолютный&lt;/i&gt;&lt;i&gt;путь&lt;/i&gt;&lt;i&gt;к&lt;/i&gt;&lt;i&gt;движку&lt;/i&gt;&lt;i&gt; &lt;span&gt;Smarty&amp;gt;/configs/&amp;quot;;
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;template_dir = &amp;quot;&amp;lt;&lt;/span&gt;&lt;/i&gt;&lt;i&gt;абсолютный&lt;/i&gt;&lt;i&gt;путь&lt;/i&gt;&lt;i&gt;к&lt;/i&gt;&lt;i&gt;движку&lt;/i&gt;&lt;i&gt; &lt;span&gt;Smarty&amp;gt;/templates/&amp;quot;;
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;cache_dir = &amp;quot;&amp;lt;&lt;/span&gt;&lt;/i&gt;&lt;i&gt;абсолютный&lt;/i&gt;&lt;i&gt;путь&lt;/i&gt;&lt;i&gt;к&lt;/i&gt;&lt;i&gt;движку&lt;/i&gt;&lt;i&gt; &lt;span&gt;Smarty&amp;gt;/cache/&amp;quot;;
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;compile_check = true;
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;debugging = false;
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;assign(&amp;quot;arResult&amp;quot;, $arResult);
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;assign(&amp;quot;arParams&amp;quot;, $arParams);
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;assign(&amp;quot;MESS&amp;quot;, $arLangMessages);
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;assign(&amp;quot;templateFolder&amp;quot;, $templateFolder);
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;assign(&amp;quot;parentTemplateFolder&amp;quot;, $parentTemplateFolder);
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$smarty-&amp;gt;display( $_SERVER[&amp;quot;DOCUMENT_ROOT&amp;quot;].$templateFile );
      &lt;br /&gt;
     }
      &lt;br /&gt;
     &lt;/span&gt;&lt;/i&gt;
  &lt;br /&gt;
 В строке &lt;i&gt;&lt;span&gt;&amp;quot;&amp;lt;&lt;/span&gt;&lt;/i&gt;&lt;i&gt;абсолютный&lt;/i&gt;&lt;i&gt;путь&lt;/i&gt;&lt;i&gt;к&lt;/i&gt;&lt;i&gt;движку&lt;/i&gt;&lt;i&gt; &lt;span&gt;Smarty&amp;gt;&amp;quot;&lt;/span&gt;&lt;/i&gt; указывается абсолютный путь к движку &lt;span&gt;Smarty.
    &lt;br /&gt;
   &lt;/span&gt;&lt;/p&gt;

&lt;p align=&quot;left&quot;&gt;&lt;BREAK /&gt;
  &lt;br /&gt;
 &lt;span&gt;&lt;/span&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Пример подключения движка XML/XSLT:
    &lt;br /&gt;
   &lt;/strong&gt;&lt;i&gt;
    &lt;br /&gt;
   &lt;/i&gt;&lt;span&gt;Сначала регистрируем движок:&lt;/span&gt;&lt;/p&gt;

&lt;p align=&quot;left&quot;&gt;&lt;i&gt;global $arCustomTemplateEngines;
    &lt;br /&gt;
   $arCustomTemplateEngines = array(
    &lt;br /&gt;
   &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;xslt&amp;quot; =&amp;gt; array(
    &lt;br /&gt;
   &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;templateExt&amp;quot; =&amp;gt; array(&amp;quot;xsl&amp;quot;),
    &lt;br /&gt;
   &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;function&amp;quot; =&amp;gt; &amp;quot;XSLTEngine&amp;quot;
    &lt;br /&gt;
   &amp;nbsp;&amp;nbsp;&amp;nbsp;),
    &lt;br /&gt;
   );
    &lt;br /&gt;

    &lt;br /&gt;
   &lt;/i&gt;&lt;/p&gt;

&lt;p align=&quot;left&quot;&gt;Функция инициализации параметров движка:&lt;i&gt;
    &lt;p&gt;function CreateXMLFromArray($xDoc, $xNode, $ar)
      &lt;br /&gt;
     {
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;foreach($ar as $key=&amp;gt;$val)
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;{
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(!is_string($key) || strlen($key)&amp;lt;=0)
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$key = &amp;quot;value&amp;quot;;
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$xElement = $xDoc-&amp;gt;createElement($key);
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(is_array($val))
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CreateXMLFromArray($xDoc, $xElement, $val);
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;else
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$xElement-&amp;gt;appendChild($xDoc-&amp;gt;createTextNode(iconv( SITE_CHARSET, &amp;quot;utf-8&amp;quot;, $val)));
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$xNode-&amp;gt;appendChild($xElement);
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;}
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;return $xNode;
      &lt;br /&gt;
     }
      &lt;br /&gt;

      &lt;br /&gt;
     &lt;/p&gt;
   &lt;/i&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p align=&quot;left&quot;&gt;Функция подключения движка:&lt;i&gt;
    &lt;p&gt;function XSLTEngine($templateFile, $arResult, $arParams, $arLangMessages, $templateFolder, $parentTemplateFolder, $template)
      &lt;br /&gt;
     {
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$arResult[&amp;quot;PARAMS&amp;quot;] = array(
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;templateFolder&amp;quot; =&amp;gt; $templateFolder,
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;parentTemplateFolder&amp;quot; =&amp;gt; $parentTemplateFolder,
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;arParams&amp;quot; =&amp;gt; $arParams,
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;arLangMessages&amp;quot; =&amp;gt; $arLangMessages
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;);
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$xDoc = new DOMDocument(&amp;quot;1.0&amp;quot;, SITE_CHARSET);
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$xRoot = $xDoc-&amp;gt;createElement('result');
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;CreateXMLFromArray($xDoc, $xRoot, $arResult);
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$xDoc-&amp;gt;appendChild($xRoot);
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$xXsl = new DOMDocument();
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$xXsl-&amp;gt;load( $_SERVER[&amp;quot;DOCUMENT_ROOT&amp;quot;].$templateFile );
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$xProc = new XSLTProcessor;
      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;$xProc-&amp;gt;importStyleSheet($xXsl);
      &lt;br /&gt;

      &lt;br /&gt;
     &amp;nbsp;&amp;nbsp;&amp;nbsp;echo $xProc-&amp;gt;transformToXML($xDoc);
      &lt;br /&gt;
     }
      &lt;br /&gt;

      &lt;br /&gt;
     &lt;/p&gt;
   &lt;/i&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;
 </Описание>
				<ЗначенияСвойств>
					<ЗначенияСвойства>
						<Ид>CML2_CODE</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_SORT</Ид>
						<Значение>500</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_ACTIVE_FROM</Ид><Значение>2009-10-02 00:00:00</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_ACTIVE_TO</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_PREVIEW_TEXT</Ид>
						<Значение>Добавление нового движка шаблонизации на сайт</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_PREVIEW_PICTURE</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>101</Ид>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>102</Ид>
						<Значение>движки</Значение>
						<ЗначениеСвойства>
							<Значение>движки</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>127</Ид>
						<Значение>59</Значение>
						<ЗначениеСвойства>
							<Значение>59</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>128</Ид>
						<Значение>0</Значение>
						<ЗначениеСвойства>
							<Значение>0</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>129</Ид>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>130</Ид>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>131</Ид>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>138</Ид>
						<Значение>218</Значение>
						<ЗначениеСвойства>
							<Значение>218</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
				</ЗначенияСвойств>
			</Товар>
			<Товар>
				<Ид>1346</Ид>
				<Наименование>Инструменты для отладки производительности</Наименование>
				<БитриксТеги>производительность</БитриксТеги>
				<Описание>
&lt;p&gt;Для оценки и отладки производительности компонент и всего сайта в целом используются следующие инструменты. Это общеизвестные параметры для страницы:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;show_page_exec_time=Y&lt;/b&gt; - выводит общее время исполнения страницы;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;show_include_exec_time=Y&lt;/b&gt; - выводит время исполнения каждой из компонент, время формирования меню. &lt;/p&gt;

&lt;p&gt;В корреляции с этими параметрами работает параметр &lt;b&gt;show_sql_stat=Y&lt;/b&gt;, который выводит число SQL запросов, общее время исполнения SQL запросов и позволяет проанализировать сами запросы, как на всю страницу, так и на отдельно взятый компонент или меню. &lt;/p&gt;

&lt;p&gt;Пример:&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;img src=&quot;/content/articles/images/sql_news.png&quot; height=&quot;307&quot; width=&quot;350&quot;/&gt;
  &lt;br clear=&quot;all&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;На этом рисунке представлена статистика SQL запросов для компоненты новостей на главной странице. Выводится она 2 запросами. Общее время работы компоненты составляет 0.0463 сек. Время SQL запросов 0.0274 сек. или 59.18% от времени работы компоненты (% помогает выявлять ресурсоемкий PHP код или тяжелые запросы). Возле каждого запроса указывается, сколько раз аналогичные запросы повторялись с вариацией параметров, сколько времени выполнялся запрос. В статистике перечисляется, откуда вызван запрос и с какими параметрами. &lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;BREAK /&gt;&lt;/p&gt;

&lt;p&gt;Рассмотрим другой пример: запросы на странице блогов. &lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;img src=&quot;/content/articles/images/sql_menu.png&quot; height=&quot;346&quot; width=&quot;350&quot;/&gt;
  &lt;br clear=&quot;all&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Количество запросов равно четырем. Но они потребляют меньше 4% от времени компоненты, которое составляет 0.0228 сек. Важно, что количество запросов не играет решающей роли, важнее время выполнения запросов. &lt;/p&gt;

&lt;p&gt;На практике использование этого инструментария позволяет:
  &lt;br /&gt;
* быстро выявлять больные участки сайта;
  &lt;br /&gt;
* находить ошибки программирования, в которых компонент генерирует очень много запросов (или мало, но медленных запросов);
  &lt;br /&gt;
* выявлять особенности и недостатки конфигурации SQL сервера или отдельных таблиц.
  &lt;br /&gt;
&lt;/p&gt;
</Описание>
				<ЗначенияСвойств>
					<ЗначенияСвойства>
						<Ид>CML2_CODE</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_SORT</Ид>
						<Значение>500</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_ACTIVE_FROM</Ид><Значение>2009-10-03 00:00:00</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_ACTIVE_TO</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_PREVIEW_TEXT</Ид>
						<Значение>Инструменты для оценки и отладки производительности компонент и всего сайта в целом</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_PREVIEW_PICTURE</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>101</Ид>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>102</Ид>
						<Значение>производительность</Значение>
						<ЗначениеСвойства>
							<Значение>производительность</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>127</Ид>
						<Значение>75</Значение>
						<ЗначениеСвойства>
							<Значение>75</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>128</Ид>
						<Значение>1</Значение>
						<ЗначениеСвойства>
							<Значение>1</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>129</Ид>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>130</Ид>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>131</Ид>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>138</Ид>
						<Значение>218</Значение>
						<ЗначениеСвойства>
							<Значение>218</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
				</ЗначенияСвойств>
			</Товар>
			<Товар>
				<Ид>1359</Ид>
				<Наименование>Компоненты 2.0: настройка поддержки ЧПУ</Наименование>
				<БитриксТеги>ЧПУ</БитриксТеги>
				<Описание>
&lt;p&gt;Настройка поддержки ЧПУ производится для работающих проектов (вы должны установить обновление главного модуля до версии 5.1.8 и выше, поскольку в обновление ядра 5.1.8 включен механизм переопределения адресов для поддержки ЧПУ). Все, кто будет ставить новый дистрибутив, получат уже настроенную поддержку.
  &lt;br /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Понятие обработки адресов &lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Обработка адресов (UrlRewrite) применяется для того, чтобы скрипт мог отвечать не только по своему физическому, но и по любому другому указанному адресу. Например, можно задать такие настройки обработки адресов, что скрипт, лежащий в файле &lt;i&gt;/fld/c.php&lt;/i&gt; и отвечающий по адресу:
  &lt;br /&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; /fld/c.php?id=15
  &lt;br /&gt;
будет отвечать также по адресу:
  &lt;br /&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; /catalog/15.php
  &lt;br /&gt;
&lt;/p&gt;

&lt;p&gt;Адрес, по которому будет отвечать скрипт, не должен физически существовать на сервере. Если такой адрес физически существует, то будет вызван скрипт по этому адресу. Система обработки адресов запущена в этом случае не будет. &lt;/p&gt;

&lt;p&gt;Управление правилами преобразования адресов производится на странице: &lt;em&gt;/bitrix/admin/urlrewrite_list.php.
    &lt;br /&gt;
  &lt;/em&gt;Механизм переопределения адресов создан в основном для компонентов 2.0, поддерживающих режим ЧПУ. В то же время, данный обработчик можно использовать для переопределения любых URL, а не только связанных с компонентами. &lt;/p&gt;

&lt;p&gt;При добавлении на страницу компонента с поддержкой ЧПУ (если файл сохраняется с помощью API), автоматически создается правило переопределения адреса. Если страница создается не с помощью API, а, например, записывается через FTP, то необходимо выполнить пересоздание правил (кнопка на панели инструментов на странице управления правилами).
  &lt;br /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Подключение механизма обработки адресов:&lt;/b&gt; &lt;/p&gt;

&lt;p&gt;&lt;b&gt;1&lt;/b&gt;. Если у вас на веб-сервере настроена обработка ошибки 404, например, для Apache установлена опция ErrorDocument или аналогичная инструкция прописана в файле .htaccess:
  &lt;br /&gt;
&lt;span&gt;&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ErrorDocument 404 /404.php,
      &lt;br /&gt;
    &lt;/em&gt;то вы должны изменить файл &lt;em&gt;/404.php,&lt;/em&gt; вставив в самое начало файла команду:
    &lt;br /&gt;
  &lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; include_once( $_SERVER['DOCUMENT_ROOT']. '/bitrix/modules/main/include/urlrewrite.php' );
      &lt;br /&gt;
    &lt;/em&gt;
    &lt;p&gt;&lt;em&gt;&lt;b&gt;2&lt;/b&gt;.&lt;/em&gt; Если вы для Apache используете модуль mod_rewrite, то в его настройках вы можете указать (например, в файле .htaccess):
      &lt;br /&gt;
    &lt;em&gt;&amp;lt;IfModule mod_rewrite.c&amp;gt;
        &lt;br /&gt;
      RewriteEngine On
        &lt;br /&gt;
      RewriteCond %{REQUEST_FILENAME} !-f
        &lt;br /&gt;
      RewriteCond %{REQUEST_FILENAME} !-l
        &lt;br /&gt;
      RewriteCond %{REQUEST_FILENAME} !-d
        &lt;br /&gt;
      RewriteCond %{REQUEST_FILENAME} !/bitrix/urlrewrite.php$
        &lt;br /&gt;
      RewriteRule ^(.*)$ /bitrix/urlrewrite.php [L]
        &lt;br /&gt;
      &amp;lt;/IfModule&amp;gt;
        &lt;br /&gt;
      &lt;/em&gt;&lt;/p&gt;

    &lt;p&gt;После этих настроек будет работать штатный механизм поддержки ЧПУ для новых компонент.&lt;/p&gt;
  &lt;BREAK /&gt;
    &lt;p&gt;&lt;b&gt;Простой тест для проверки проведенной настройки:&lt;/b&gt;
      &lt;br /&gt;

      &lt;br /&gt;
    &lt;b&gt;1&lt;/b&gt;. Зайти на страницу &lt;em&gt;&amp;quot;Настройки&amp;quot; - &amp;quot;Настройки продукта&amp;quot; - &amp;quot;Обработка адресов&amp;quot;
        &lt;br /&gt;
      &lt;/em&gt;
      &lt;br /&gt;
    &lt;b&gt;2&lt;/b&gt;. Выбирать пункт &amp;quot;Новая запись&amp;quot; и добавить:
      &lt;br /&gt;
    &lt;em&gt;&amp;nbsp;&amp;nbsp; Условие&lt;/em&gt;: #^/sef_test/#
      &lt;br /&gt;
    &lt;em&gt;&amp;nbsp;&amp;nbsp; Компонент&lt;/em&gt;: ничего не указываем
      &lt;br /&gt;
    &lt;em&gt;&amp;nbsp;&amp;nbsp; Файл&lt;/em&gt;: /index.php (нужно указать файл, который фактически будет работать)
      &lt;br /&gt;
    &lt;em&gt;&amp;nbsp;&amp;nbsp; Правило&lt;/em&gt;: ничего не указываем.
      &lt;br /&gt;
    Сохранить изменения.
      &lt;br /&gt;

      &lt;br /&gt;
    &lt;b&gt;3&lt;/b&gt;. Перейти по адресу в разделе /sef_test/
      &lt;br /&gt;
    &amp;nbsp;&amp;nbsp;&amp;nbsp; Например, http://localhost/sef_test/test.html
      &lt;br /&gt;

      &lt;br /&gt;
    Если ЧПУ работает, то вы должны увидеть содержимое страницы, указанной в поле &lt;em&gt;Файл&lt;/em&gt; в правиле переопределения. &lt;/p&gt;

    &lt;p&gt;&lt;b&gt;Примеры: &lt;/b&gt;&lt;/p&gt;

    &lt;p&gt;1. Если в системе обработки адресов зарегистрировано правило:
      &lt;br /&gt;
    &amp;nbsp;&amp;nbsp; &lt;em&gt;Условие&lt;/em&gt; = #^/gallery/#&amp;nbsp;
      &lt;br /&gt;
    &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;em&gt;Файл&lt;/em&gt; = /max/images/index.php
      &lt;br /&gt;
    и пользователем запрошена страница /gallery/38.php, которая физически не существует, то система обработки адресов подключит скрипт /max/images/index.php. &lt;/p&gt;

    &lt;p&gt;2. Если в системе обработки адресов зарегистрировано правило:
      &lt;br /&gt;
    &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;em&gt;Условие&lt;/em&gt; = #^/index/([0-9]+)/([0-9]+)/#
      &lt;br /&gt;
    &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;em&gt;Правило&lt;/em&gt; = mode=read&amp;amp;CID=$1&amp;amp;GID=$2
      &lt;br /&gt;
    &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;em&gt;Файл&lt;/em&gt; = /newforum/index.php
      &lt;br /&gt;
    и пользователем запрошена страница /index/5/48/, то будет подключен скрипт /newforum/index.php?mode=read&amp;amp;CID=5&amp;amp;GID=48.
      &lt;br /&gt;
    &lt;/p&gt;

    &lt;p&gt;3. Если в системе обработки адресов зарегистрировано правило:
      &lt;br /&gt;
    &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;em&gt;Условие&lt;/em&gt; = #(.+?)\\.html(.*)#
      &lt;br /&gt;
    &amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;em&gt;Правило&lt;/em&gt; = $1.php$2
      &lt;br /&gt;
    и пользователем запрошена страница /about/company.html?show, то будет подключен скрипт /about/company.php?show.&lt;/p&gt;
  &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;
</Описание>
				<ЗначенияСвойств>
					<ЗначенияСвойства>
						<Ид>CML2_CODE</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_SORT</Ид>
						<Значение>500</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_ACTIVE_FROM</Ид><Значение>2009-10-04 00:00:00</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_ACTIVE_TO</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_PREVIEW_TEXT</Ид>
						<Значение>Настройка поддержки ЧПУ производится для работающих проектов (вы должны установить обновление главного модуля до версии 5.1.8 и выше, поскольку в обновление ядра 5.1.8 включен механизм переопределения адресов для поддержки ЧПУ). Все, кто будет ставить новый дистрибутив, получат уже настроенную поддержку.</Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>CML2_PREVIEW_PICTURE</Ид>
						<Значение></Значение>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>101</Ид>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>102</Ид>
						<Значение>ЧПУ</Значение>
						<ЗначениеСвойства>
							<Значение>ЧПУ</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>127</Ид>
						<Значение>74</Значение>
						<ЗначениеСвойства>
							<Значение>74</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>128</Ид>
						<Значение>1</Значение>
						<ЗначениеСвойства>
							<Значение>1</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>129</Ид>
						<Значение>2</Значение>
						<ЗначениеСвойства>
							<Значение>2</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>130</Ид>
						<Значение>10</Значение>
						<ЗначениеСвойства>
							<Значение>10</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>131</Ид>
						<Значение>3.44</Значение>
						<ЗначениеСвойства>
							<Значение>3.44</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
					<ЗначенияСвойства>
						<Ид>138</Ид>
						<Значение>226</Значение>
						<ЗначениеСвойства>
							<Значение>226</Значение>
							<Описание></Описание>
						</ЗначениеСвойства>
					</ЗначенияСвойства>
				</ЗначенияСвойств>
			</Товар>
		</Товары>
	</Каталог>
</КоммерческаяИнформация>
